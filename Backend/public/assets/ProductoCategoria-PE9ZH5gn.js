import{g as p,r as l,j as u}from"./index-D0cUJPDZ.js";import{P as f}from"./ProductoDestacado-gnmdsiTo.js";import{e as h,g as j,a as x,b,c as v,d as y}from"./normalizeTree-LpHbLW8i.js";const E={melaminas:j,herrajes:x,revestimientos:b,muebles:v,vinilos:y};function R(){const{categoria:t,producto:o}=p(),[r,s]=l.useState(null),[e,n]=l.useState(!0);return l.useEffect(()=>{(async()=>{n(!0);const a=E[t.toLowerCase()];if(a)try{const i=await a(),g=P(h(i)).find(m=>d(m.nombre)===d(o));s(g||null)}catch(i){console.error("❌ Error al buscar producto:",i),s(null)}finally{n(!1)}})()},[t,o]),e?u.jsx("div",{style:{padding:"2rem"},children:"Cargando producto…"}):r?u.jsx(f,{producto:r,categoria:t}):u.jsx("div",{style:{padding:"2rem"},children:"Producto no encontrado"})}const P=(t,o=[])=>{const r=[],s=(e,n)=>{const c=[...n,e.nombre];if(!e.children||e.children.length===0){const a=e.imagenes||[];r.push({...e,ruta:c.join("/"),imagenes:a})}else e.children.forEach(a=>s(a,c))};return t.forEach(e=>s(e,o)),r},d=(t="")=>t.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\s+/g,"-").replace(/[^\w-]/g,"");export{R as default};
